#Python 语言程序设计
##介绍
###课程概述
课程定位
1.零基础；2.大学水平；3.Python

完整讲解Python基础语法并适度扩展讲解若干常用模块
-1套Python基础语法全体系
-7个常用的Python程序设计模块
-16个优秀的Python程序实践案例

课程内容：
第一部分: Python快速入门( 2周)
围绕2个具体实例，讲解Python基本语法元素，感性认识
第二部分: Python基础语法( 5周)
从5个方面讲解基础语法全体系，提供10个实例，理性学习
第三部分: Python编程思维( 2周)
从方法学角度开阔认识，提升整体编程能力，展望未来

##程序设计基本方法
###计算机与程序设计
###编译和解释
-源代码
采用某种编程语言编写的计算机程序,人类可读
例如: result= 2 + 3
-目标代码
计算机可直接执行,人类不可读(专家除外)
例如: 11010010 00111011

- 编译
将源代码一次性转化为目标代码
![](2022-04-23-17-59-45.png)
- 解释
将源代码逐条转换成目标代码同时逐条运行的过程
![](2022-04-23-18-01-21.png)

根据执行方式不同，编程语言分为两类
- 静态语言使用编译执行的编程语言
C/C+ +语言、Java语言
- 脚本语言使用解释执行的编程语言
Python语言、JavaScrip语言、PHP语言

静态语言和脚本语言执行方式不同，优势各有不同
- 静态语言 
编译器一次性生成目标代码，优化更充分，程序运行速度更快
- 脚本语言
执行程序时需要源代码，维护更灵活，源代码在维护灵活、跨多个操作系统平台


###程序的基本编写方法
程序的基本编写方法
- I Input 输入，程序的输入
    文件输入、网络输入、控制台输入、交互界面输入、内部参数输入等

- P Process处理，程序的主要逻辑
    处理是程序对输入数据进行计算产生输出结果的过程
    处理方法统称为算法，它是程序最重要的部分
    算法是一个程序的灵魂

- O Output 输出，程序的输出
    控制台输出、图形输出、文件输出、
    网络输出、操作系统内部变量输出等
    输出是程序展示运算结果的方式


一个待解决问题中，可以用程序辅助完成的部分
计算机只能解决计算问题，即问题的计算部分
一个问题可能有多种角度理解，产生不同的计算部分
问题的计算部分一般都有输入、处理和输出过程

- 编程解决问题的步骤
    6个步骤
    -分析问题:分析问题的计算部分，想清楚
    -划分边界:划分问题的功能边界，规划IPO
    -设计算法:设计问题的求解算法，关注算法
    -编写程序:编写问题的计算程序，编程序
    -调试测试:调试程序使正确运行，运行调试
    -升级维护:适应问题的升级维护，更新完善

##Python程序语法元素分析——"温度转换"程序

```python
#TempConvert.py
TempStr = input("请输入带有符号的温度值")
if TempStr[-1] in ['F','f']:
    C = (eval(TempStr[0:-1])-32)/1.8
    print("转换后的温度是{:.2f}C".format(C))
elif TempStr[-1] in ['C','c']:
    F = 1.8*eval(TempStr[0:-1])+32
    print("转换后的温度是{:.2f}F".format(F))
else:
    print("输入格式错误")
```

###程序的格式框架
1. 缩进表达程序的格式框架
   - 严格明确
   缩进是语法的一部分，缩进不正确程序运行错误
   - 所属关系
   表达代码间包含和层次关系的唯一手段
   - 长度一致
   程序内一致即可，一般用4个空格或1个TAB

2. 注释，不被程序执行的辅助性说明信息
    - 单行注释以#开头 ,其后内容为注释
    \#这里是单行注释
    - 多行注释以'''开头和结尾
    '''这是多行注释第一行
    这是多行注释第二行'''

###命名与保留字

1. 变量：用来保存和表示数据的占位符号
    - 变量采用标识符(名字)来表示，关联标识符的过程叫命名
    TempStr是变量名字
    - 可以使用等号(=)向变量赋值或修改值，=被称为赋值符号
    `TempStr= "82F"` #向变量TempStr赋值"82F'
2. 命名：关联标识符的过程
    - 命名规则:大小写字母、数字、下划线和汉字等字符及组合
    如: TempStr, Python_Great, 这是门Python好课
    - 注意事项:大小写敏感、首字符不能是数字、不与保留字相同
    Python和python是不同变量，123Python是不合法的
3. 保留字
    被编程语言内部定义并保留使用的标识符
    - Python语言有33个保留字(也叫关键字)
    if, elif, else, in
    - 保留字是编程语言的基本单词，大小写敏感
    if是保留字,If是变量
    - python保留字
    ![](2022-04-24-11-56-19.png)

###数据类型 
1. 问题：10,011,101该如何解释呢?
   - 这是一个二进制数字或者十进制数字
   作为二进制数字, 10,011,101的值是十进制157
   - 这是一段文本或者用逗号,分隔的3个数字
   - 作为一段文本，逗号是文本中的一部分，一共包含10个字符

2. 数据类型：供计算机程序理解的数据形式
    - 程序设计语言不允许存在语法歧义，需要定义数据的形式
    需要给10,011,101关联一种计算机可以理解的形式
    - 程序设计语言通过一定方式向计算机表达数据的形式
    "123"表示文本字符串123，123则表示数字123

3. 数据类型
    - 整数类型:
    10011101
    - 字符串类型:
    "10, 011,101"
    - 列表类型:
    [10，011，101]

4. 字符串：由0个或多个字符组成的有序字符序列
    - 字符串由一对单引号或一对双引号表示
    "请输入带有符号的温度值:" 或者 'C'
    - 字符串是字符的有序序列，可以对其中的字符进行索引
    "请" 是 "请输入带有符号的温度值:" 的第0个字符

5. 字符串的序号
    正向递增序号和反向递减序号
    ![](2022-04-24-12-17-06.png)

6. 字符串的使用
    使用[ ]获取字符串中一个或多个字符
    - 索引:返回字符串中单个字符 <字符串>[M]
    `"请输入带有符号的温度值:"[0]`   或者   `TempStr[-1]`
    - 切片:返回字符串中一段字符子串<字符串>[M: N]
    `"请输入带有符号的温度值:"[1:3]`  或者  `TempStr[0:-1]` 
    上述语句的结果是：取出字符串中的第2位和第3位的数字，即"输入"

7. 数字类型
    整数和浮点数都是数字类型
    - 整数：数学中的整数
    32或者-89
    - 浮点数：数学中的实数，带有小数部分
    1.8或者-1.8或者-1.0


8. 列表类型：由0个或多个数据组成的有序序列
    - 列表使用[ ]表示,采用逗号(,)分隔各元素
    `['F','f']`表示两个元素'F'和'f'
    - 使用保留字in判断一个元素是否在列表中
    `TempStr[-1] in ['F','f']` 判断前者是否与列表中某个元素相同

###语句与函数
1. 赋值语句：由赋值符号构成的一行代码
    - 赋值语句用来给变量赋予新的数据值
    `C=(eval(TempStr[0:-1])-32)/1.8` 
    #右侧运算结果赋给变量C 
    - 赋值语句右侧的数据类型同时作用于变量
    `TempStr = input("") `
    #input()返回一个字符串，TempStr也是字符串

2. 分支语句：由判断条件决定程序运行方向的语句
   - 使用保留字if、elif、else构成条件判断的分支结构
   `if TempStr[-1] in ['F','f']:`
   #如果条件为True则执行冒号后语句
   - 每个保留字所在行最后存在一个冒号`:`，语法的一部分
   冒号及后续缩进用来表示后续语句与条件的所属关系

3. 函数：根据输入参数产生不同输出的功能过程
    - 类似数学中的函数，y= f(x)
    `print("输入格式错误")`#打印输出"输入格式错误"
    - 函数采用<函数名>(<参数>)方式使用
   `eval(TempStr[0:-1])`#`TempStr[0:-1]`是参数

###Python程序的输入和输出
1. 输入函数input()：从控制台获得用户输入的函数
    - input()函数的使用格式:
    <变量> = input( <提示信息字符串>)
    - 用户输入的信息以**字符串类型**保存在<变量>中
    `TempStr = input("请输入")` #TempStr保存用户输入的信息

2. 输出函数print():以字符形式向控制台输出结果的函数
    - print()函数的基本使用格式:
    print(<拟输出字符串或字符串变量> )
    - 字符串类型的一对引号仅在程序内部使用，输出无引号
    `print("输入格式错误")` # 向控制台输出输入格式错误
    - print()函数的格式化
    `print("转换后的温度是{:.2f}C".format(C))`
    `{ }`表示槽,后续变量填充到槽中
    `{:.2f}`表示将变量`C`填充到这个位置时取小数点后2位

3. 评估函数eval():去掉参数最外侧引号并执行余下语句的函数
    - eval()函数的基本使用格式:
    eval(<字符串或字符串变量>)
    ```python
    >>> eval("1")
    1
    >>> eval("1+2")
    3
    >>> eval('"1+2"')
    "1+2"
    >>> eval('print("Hello World")')
    Hello World
    ```
    对于`eval(TempStr[0:-1])`来说，如果`TempStr[0:-1]`的值为"12.3"，输出就是：12.3

##Python基本图形绘制
###深入理解Python语言

###实例2：Python蟒蛇绘制
1. 用程序绘制一条蟒蛇
    - 问题1 计算机绘图是什么原理?
    一段程序为何能够产生窗体?为何能在窗体上绘制图形?

    - 问题2 Python蟒蛇绘制从哪里开始呢?
    如何绘制一条线?如何绘制一个弧形?如何绘制一个蟒蛇?

2. Python蟒蛇绘制代码
```python
#PythonDraw. py
import turtle
turtle.setup(650,350,200,200)
turtle.penup()
turtle.fd(-250)
turtle.pendown()
turtle.pensize(25)
turtle.pencolor("purple")
turtle.seth(-40)

for i in range(4):
    turtle. circle(40,80)
    turtle. circle(-40,80)

turtle.circle(40,80/2)
turtle.fd(40)
turtle.circle(16,180)
turtle.fd(40 * 2/3)
turtle.done()
```
3. 计算问题的扩展
    - Python蟒蛇绘制问题是各类图像绘制问题的代表
    - 圆形绘制、五角星绘制、国旗绘制、机器猫绘制...

###模块1：turtle库的使用
1. turtle库基本介绍
   - turtle(海龟)库是turtle绘图体系的Python实现
   - turtle绘图体系: 1969年诞生,主要用于程序设计入门
   - Python语言的标准库之一
   - 入门级的图形绘制函数库
   - Python计算生态=标准库+第三方库
    标准库:随解释器直接安装到操作系统中的功能模块
    第三方库:需要经过安装才能使用的功能模块
    库Library包Package、模块Module ,统称模块

2. turtle绘图窗体布局
    ![](2022-04-24-21-48-42.png)
    `turtle.setup(width,height,startx,starty)`
    setup()设置窗体大小及位置，4个参数中后两个可选
    setup函数不是必须的，只有当你需要控制窗体的大小的时候和位置的时候才需要。

3. turtle空间坐标体系
   - 绝对坐标
   ![](2022-04-24-21-52-44.png)
   `turtle.goto(x,y)`让在任意位置的海龟到达某一坐标位置
   例子：
   ```python
   import turtle
   turtle.goto(100,100)
   turtle.goto(100,-100)
   turtle.goto(-100,-100)
   turtle.goto(-100,100)
   turtle.goto(0,0)
   ```
   - 相对坐标
   ![](2022-04-24-21-57-15.png)
   ![](2022-04-24-21-58-02.png)


4. turtle角度坐标体系
   - 绝对角度    
    ![](2022-04-24-21-58-47.png)
    `turtle.seth(angle)`
    -`seth()`改变海龟行进方向
    -`seth()`只改变方向但不行进
    -`angle`为绝对度数
   - 相对角度
    ![](2022-04-24-22-01-23.png)

5. 例子
    ```python
    import turtle
    turtle.1eft(45)
    turtle.fd(150)
    turtle.right(135)
    turtle.fd(300)
    turtle.1eft(135)
    turtle.fd(150)
    ```
    ![](2022-04-24-22-03-37.png)

6. RGB色彩体系
turtle默认采用小数值可切换为整数值
`turtle.colormode(mode)`
-1.0: RGB小数值模式
-255: RGB整数值模式

###turtle程序语法元素分析

```python
#PythonDraw. py
import turtle
turtle.setup(650,350,200,200)
turtle.penup()
turtle.fd(-250)
turtle.pendown()
turtle.pensize(25)
turtle.pencolor("purple")
turtle.seth(-40)

for i in range(4):
    turtle. circle(40,80)
    turtle. circle(-40,80)

turtle.circle(40,80/2)
turtle.fd(40)
turtle.circle(16,180)
turtle.fd(40 * 2/3)
turtle.done()
```


1. 库引用与import：扩充Python程序功能的方式
    - 使用import保留字完成,采用<a>.<b>()编码风格
        ```python
        import <库名>
        <库名>.<函数名>(<函数参数>)
        ```
    - 使用from和import保留字共同完成
        ```python
        from <库名> import <函数名>
        from <库名> import *
        <函数名>(<函数参数>)
        ```
        ![](2022-04-24-22-13-56.png)
        ![](2022-04-24-22-14-24.png)

    - 使用import和as保留字共同完成
        ```python
        import <库名> as <库别名>
        <库别名>.<函数名>(<函数参数>)
        ```
        给调用的外部库关联一个更短、更适合自己的名字


2. turtle画笔控制函数
    画笔操作后一直有效，一般成对出现
    - `turtle.penup()` 别名 ：`turtle.pu()`
    抬起画笔，海龟在飞行
    - `turtle.pendown()` 别名 ：`turtle.pd()`
    落下画笔，海龟在爬行
    - `turtle.pensize(width)` 别名 ：`turtle.width(width)`
    画笔宽度，海龟的腰围
    - `turtle.pencolor(color)` color为颜色字符串或r,g,b值
    画笔颜色，海龟在涂装
    
    颜色字符串 : `turtle.pencolor("purple")`
    - RGB的小数值: `turtle.pencolor(0.63, 0.13, 0.94)`
    - RGB的元组值: `turtle.pencolor( ( 0.63,0.13,0.94))`

3. turtle运动控制函数
    控制海龟行进:走直线&走曲线
    - `turtle.forward(d)`别名`turtle.fd(d)`
    向前行进，海龟走直线
    - d:行进距离，可以为负数
    - `turtle.circle(r, extent=None)`
    根据半径`r`绘制`extent`角度的弧形
    - `r`:默认圆心在海龟左侧r距离的位置
    - `extent`:绘制角度，默认是360度整圆


4. turtle方向控制函数
    控制海龟面对方向:绝对角度&海龟角度
    - `turtle.setheading(angle)`别名`turtle.seth(angle)`
    改变行进方向，海龟走角度
    - `angle`:改变行进方向，海龟走角度
    - `turtle.left(angle)`
    海龟向左转
    - `turtle.right(angle)`
    海龟向右转
    - `angle`:在海龟当前行进方向上旋转的角度

5. 基本循环语句
    - 循环语句：按照一定次数循环执行组语句
    ```python
    for <变量> in range( <参数> )
        <被循环执行的语句>
    ```
    - <变量>表示每次循环的计数, 0到<次数>-1
  
    例子1：
    ```python
    >>> for i in range(5):
            print(i)
    >>>
    0
    1
    2
    3
    4
    ```
    例子2：
    ```python
    >>> for i in range(5):
            print("Hello:",i)
    >>>
    Hello: 0
    Hello: 1
    Hello: 2
    Hello: 3
    Hello: 4
    #注意：此时print中的"Hello："和i之间存在，隔开，输出的时候Hello：与数字i之间存在一个空格。
    ```
    - range函数：产生循环计数序列
    - range(N)
    产生0到N-1的整数序列，共N个
    - range(M，N)
    产生M到N-1的整数序列，共N-M个
    ```python
    >>>range(5)
    0,1,2,3,4
    >>>range(2, 5)
    2,3,4
    ```


##基本数据类型

###数字类型及操作
1. 整数类型：与数学中整数的概念一致
    可正可负，没有取值范围限制
    -`pow(x,y)`函数:计算$x^y$，想算多大算多大    
    ```python
    >>> pow(2,100)
    >>> pow(2,pow(2,15))
    ```
    4种进制表示形式
    -十进制: 1010, 99, -217
    -二进制，以0b或0B开头: 0b010, -0B101
    -八进制，以0o或00开头: 0o123, -00456
    -十六进制，以0x或0X开头: 0x9a, -0X89

2. 浮点数类型：与数学中实数的概念一致
    带有小数点及小数的数字
    - 浮点数取值范围和小数精度都存在限制,但常规计算可忽略
    - 注意：浮点数间运算存在不确定尾数，不是bug
    ```python
    >>> 0.1 + 0.3
    0.4
    >>> 0.1 + 0.2
    0.30000000000000004
    ```

   - 不确定尾数出现的解释
    0.1        53位二进制表示小数部分，约$10^{-16}$
    0.00011001100110011001100110011001100110011001100110011010 (二进制表示)
    0.100000000000000055511151231257827021181583404541015625 (十进制表示)
    二进制表示小数，可以无限接近，但不完全相同
    所以对于计算0.1+0.2来说，结果无限接近0.3，但可能存在尾数

    - 对于上述问题可以用程序验证：
        ```python
        >>> 0.1 + 0.2 == 0.3
        False
        >>> round(0.1+0.2, 1) == 0.3
        True 
        ```
    `round(x,d) `:对x四舍五入, d是小数截取位数
    浮点数间运算及比较用round(函数辅助)
    不确定尾数一般发生在10左右, round()十分有效

   - 浮点数可以采用科学计数法表示
   使用字母e或E作为幂的符号，以10为基数，格式如下
   `<a>e<b>`：表示$a*10^b$
   例如: 4.3e-3值为0.0043  而  9.6E5值为960000.0

3. 复数类型
    与数学中复数的概念一致
    如果$x^2=-1$ , 那么x的值是什么?
    -定义$j=\sqrt{(-1)}$ ,以此为基础，构建数学体系
    -$a+bj$被称为复数,其中, a是实部, b是虚部
    $z = 1.23e-4+5.6e+89j$
    -实部是什么?   `z.real`获得实部
    -虚部是什么?   `z.imag`获得虛部

4. 数值运算操作符
    $$\begin{array}
    {c|lll}
    {符号}&{含义}\\
    \hline
    {x+y}&{加，x与y之和}\\
    {x-y}&{减，x与y之差}\\
    {x*y}&{乘，x与y之积}\\
    {x/y}&{除，x与y之商 10/3结果是3.3333333333333335}\\
    {x//y}&{整数除, x与y之整数商10//3结果是3}\\
    {+x}&{x本身}\\
    {-y}&{y的负值}\\
    {x\%y}&{余数，模运算10\%3结果是1}\\
    {x**y}&{幂运算，x的y次幂，x^y}\\
    \end{array}$$

    - 二元操作符有对应的增强赋值操作符
    $$\begin{array}
    {c|lll}
    {符号}&{含义}\\
    \hline
    {x \ op=y}&{即x=x\ op\ y，其中，op为二元操作符}\\
    {}&{x+=y；x-=y；x*=y；x/=y；x//=y；x\%=y；x**=y}
    \end{array}$$

    ```python
    >>> x = 3.1415
    >>> x**= 3 与 x=x**3等价
    31.006276662836743
    ```
    类型间可进行混合运算，生成结果为"最宽"类型
    - 三种类型存在一种逐渐"扩展”或"变宽的关系:
    整数->浮点数->复数
    - 例如: 123 + 4.0= 127.0 (整数+浮点数 =浮点数)

5. 数值运算函数
    ![](2022-04-28-12-35-39.png)
    ![](2022-04-28-12-36-57.png)
    一些以函数形式提供的数值运算功能
    ![](2022-04-28-12-38-22.png)

###实例3: 天天向上的力量

```python
#DayDayUpQ1.py
dayup =pow(1.001,365)
daydown =pow(0.999,365)
print("向上: {:.2f},向下: {:.2f}".format(dayup,daydown))
```
```python
#DayDayUpQ2.py
dayfactor = 0.005 
dayup = pow(1+dayfactor,365)
daydown = pow(1-dayfactor,365)
print("向上: {:.2f}, 向下: {:.2f}".format(dayup,daydown))
```
问题3 :工作日的力量
一年365天，一周5个工作日，每天进步1%
一年365天，一周2个休息日，每天退步1%
这种工作日的力量，如何呢?
```python
#DayDayUpQ3.py
dayup=1.0
dayfactor=0.01
for i in range(365):
    if i % 7 in [6,0]: #判断第i天是否为周日
        dayup = dayup* (1-dayfactor)
    else:
        dayup = dayup* (1+dayfactor)
print("工作日的力量：{:.2f}".format(dayup))
```

问题4:工作日的努力
-工作日模式要努力到什么水平，才能与每天努力1%一样?
-A君:一年365天，每天进步1%，不停歇
-B君:一年365天，每周工作5天休息2天，休息日下降1%，要多努力呢?
显然我们知道一年365天努力的结果，我们可以考虑**试错的方式**来无限逼近这个结果。

```python
#DayDayUpQ4.py
def dayUp(df):
    dayup=1
    for i in range(365):
        if i % 7 in [6,0]: #判断第i天是否为周日
            dayup = dayup* (1 - 0.01)
        else:
            dayup = dayup* (1 + df)
    return dayup

dayfactor= 0.01
while dayUp(dayfactor)<37.78:
    dayfactor+=0.001
print("工作日的努力参数是：{:.3f}".format(dayfactor))
```

###字符串类型及操作 
由0个或多个字符组成的有序字符序列
字符串由一对单引号或一对双引号表示
"请输入带有符号的温度值: "或者'C'
字符串是字符的有序序列，可以对其中的字符进行索引
"请"是"请输入带有符号的温度值:"的第0个字符

1. 字符串类型的表示
    字符串有2类共4种表示方法
    - 由一对单引号或双引号表示，仅表示单行字符串
    "请输入带有符号的温度值: "或者'C'
    - 由一对三单引号或三双引号表示，可表示多行字符串
    '''Python
                    语言
    '''
    考虑为什么Python会出现以上几种表现字符串的形式？
    假设我想表示值么一段字符串：
    - 如果希望在字符串中包含双引号或单引号呢?
    `'这种语言就称为"Python"'`或者`"这种语言就称为'Python'"`
    - 如果希望在字符串中既包括单引号又包括双引号呢?
    `''' 这种'编程语言'就称为"Python" '''`
    这里既有单引号()又有双引号(")

    - 字符串的序号：
    ![](2022-04-28-17-14-44.png)
    - 字符串的使用：
    使用[ ]获取字符串中一个或多个字符
    - 索引:返回字符串中单个字符 <字符串> [M]
    `"请输入带有符号的温度值: "[0]`或者`TempStr[-1]`
    - 切片:返回字符串中一段字符子串 <字符串> [M: N]
    `"请输入带有符号的温度值: "[1:3]` 或者`TempStr[0:-1]`

    - 字符串切片高级用法：使用[M:N:K]根据步长对字符串切片
    - <字符串> [M:N]，M缺失表示**至开头**，N缺失表示**至结尾**
    "〇一二三四五六七八九十"[:3]结果是"〇一二"
    - <字符串> [M:N:K]，根据步长K对字符串切片
    "〇一二三四五六七八九十"[1:8:2]结果是"一三五七"
    "〇一二三四五六七八九十"[::-1]结果是"十九八七六五四三二一〇"(字符串倒序输出)

    - 转义符\
    转义符表达特定字符的本意
    "这里有个双引号(")"结果为  这里有个双引号(")
    转义符形成一些组合，表达一些不可打印的含义
    "\b"回退"\n" 换行(光标移动到下行首) "\r" 回车(光标移动到本行首)

2. 字符串操作符
    由0个或多个字符组成的有序字符序列
    ![](2022-04-28-17-53-43.png)

    获取星期字符串
    -输入:1-7的整数，表示星期几
    -输出:输入整数对应的星期字符串
    -例如:输入3，输出星期三

    ```python
    #WeekNamePrintV1.py
    weekStr = "星期一星期二星期三星期四星期五星期六星期日"
    weekId = eval(input("请输入星期数字(1-7):"))
    pos = (weekId - 1) * 3
    print(weekStr[pos:pos+3])
    ```

    ```python
    #WeekNamePrintV2.py
    weekStr = "一二三四五六日"
    weekId = eval(input("请输入星期数字(1-7):"))
    print("星期"+weekStr[weekId-1])
    ```

3. 字符串处理函数
    - 一些以函数形式提供的字符串处理功能：
    ![](2022-04-28-18-07-33.png)
    ![](2022-04-28-18-08-11.png)

    - Unicode编码：
        Python字符串的编码方式
        统一字符编码，即覆盖几乎所有字符的编码方式
        从0到1114111 (0x10FFFF)空间，每个编码对应一个字符
        Python字符串中每个字符都是Unicode编码字符
    - 一些有趣的例子
        ```python
        >>>"1+1=2"+ chr(10004)
        '1+1=2V'
        >>> "这个字符8的Unicode值是:”+ str(ord("♉"))
        '这个字符♉的Unicode值是: 9801
        ```
    - 对于星座感兴趣的同学可以将所有的十二星座的符号表示出来
        ```python
        >>> for i in range(12):
            print(chr(9800+i),end="")#end=""表示所有的输出不换行
        >>> ♈♉♊♋♌♍♎♏♐♑♒♓
        ```


4. 字符串处理方法
    "方法"在编程中是一个专有名词
    "方法"特指`<a>.<b>()`风格中的函数`<b>()`
    方法本身也是函数，但与`<a>`有关，`<a>.<b>()`风格使用
    字符串及变量也是`<a>`，存在一些方法
    - 一些以方法形式提供的字符串处理功能
    ![](2022-04-28-21-29-03.png)
    ![](2022-04-28-21-31-04.png)
    ![](2022-04-28-21-32-03.png)

5. 字符串类型的格式化
    格式化是对字符串进行格式表达的方式
    - 字符串格式化使用.format()方法，用法如下:
    <模板字符串>.format(<逗号分隔的参数>)
    - 槽
    默认顺序：
    ![](2022-04-28-21-49-55.png)
    指定顺序：
    ![](2022-04-28-21-51-48.png)
    - `format()`方法的格式控制：
    ![](2022-04-28-21-52-49.png)
    - 举个例子(格式)：
    ![](2022-04-28-21-54-55.png)
    - 下一个例子：
    ![](2022-04-28-21-58-14.png)

###模块2: time库的使用
1. time库基本介绍
    time库是Python中处理时间的标准库
    -计算机时间的表达
    -提供获取系统时间并格式化输出功能
    -提供系统级精确计时功能，用于程序性能分析
    ```python
    import time
    time.<b>()
    ```
    time库包括三类函数
    - 时间获取: time() ctime() gmtime()
    - 时间格式化: strftime() strptime()
    - 程序计时: sleep(), perf_counter()

2. 时间获取
    ![](2022-04-28-22-04-13.png)
    ![](2022-04-28-22-04-54.png)

3. 时间格式化：将时间以合理的方式展示出来
    格式化：类似字符串格式化，需要有展示模板
    展示模板由特定的格式化控制符组成
    - `strftime()`方法
    ![](2022-04-28-22-07-12.png)
    ![](2022-04-28-22-08-42.png)
    ![](2022-04-28-22-09-17.png)
    ```python
    >>>t = time.gmtime()
    >>>time.strftime("%Y-%m-%d %H:%M:%S",t)
    >>>2018-01-26 12:55:20
    #上述程序是将一个具体的时间变成一个可以展示出来的时间字符串。那么反之是否可行？将一个时间字符串转化为具体的时间？
    >>>timeStr ='2018-01-26 12:55:20'
    >>>time.strptime(timeStr,"%Y-%m-%d %H:%M:%S")
    ```
    ![](2022-04-28-22-13-56.png)

4. 程序计时应用
    程序计时应用广泛
    - 程序计时指测量起止动作所经历时间的过程
    - 测量时间: `perf_counter()`
    ![](2022-04-28-22-16-11.png)
    - 产生时间: `sleep()`
    ![](2022-04-28-22-17-20.png)

###实例4: 文本进度条
1. 文本进度条
   - 采用字符串方式打印可以动态变化的文本进度条
   - 进度条需要能在一行中逐渐变化
   如何获得文本进度条的变化时间?
   - 采用`sleep()`模拟一个持续的进度
   - 似乎不那么难


   ```python
   #TextProBarV1. py
   import time
   scale = 10 #文本宽度
   print("------执行开始------")
   for i in range(scale + 1):
       a ='*' * i
       b ='.' * (scale - i)
       c = (i/scale) * 100
       print("{:^3.0f}%[{}->{}]".format(c,a,b))
       time.sleep(0.1)
   print("------执行结束------")
   ```
2. 单行动态刷新
   - 刷新的本质是:用后打印的字符覆盖之前的字符

   刷新的关键是`\r`
   刷新的本质是：用后打印的字符覆盖之前的字符
   - 不能换行：`print()`需要被控制
   - 要能回退：打印后光标退回到之前的位置`\r`
   - 
    ```python
    #TextProBarV1.py
    import time
    for i in range(101):
        #\r指在打印输出之前将光标转换到这个打印行当前的行首
        print("\r{:3}%".format(i), end="")
        #print默认情况下在输出一个东西之后会换行
        #但是加上end=""就不会换行了。
        time.sleep(0.1)
    ```

3. 完整效果
    ```python
    #TextProBarV3. py
    import time
    scale = 50
    print("执行开始".center(scale//2, "-"))
    start = time.perf_counter()
    for i in range(scale+1):
        a ='*' * i
        b ='.' *(scale - i)
        c = (i/scale)*100
        dur = time.perf_counter() - start
        print("\r{:^3.0f}%[{}->{}]{:.2f}s".format(c,a,b,dur),end='')
        time.sleep(0.1)
    print("\n"+"执行结束".center(scale//2,'-'))
    ```

##程序的控制结构

###程序的分支结构
1. 单分支结构
    ![](2022-04-29-17-30-06.png)
    ```python
    guess = eval (input())
    if guess == 99:
        print("猜对了")
    ```

2. 二分支结构
    ![](2022-04-29-17-31-50.png)
    紧凑形式:适用于简单表达式的二分支结构
    <表达式1> if <条件> else <表达式2>
    ```python
    guess = eval(input())
    print("猜{}了".format("对" if guess==99 else "错"))
    ```

3. 多分支结构
    ![](2022-04-29-17-35-31.png)
    对不同分数分级的问题
    - 注意多条件之间的包含关系
    - 注意变量取值范围的覆盖

4. 条件判断及组合
    ![](2022-04-29-17-38-08.png)
    ![](2022-04-29-17-38-26.png)
    ```python
    guess = eval(input())
    if guess > 99 or guess < 99 :
        print("猜错了")
    else :
        print( "猜对了")
    ```

5. 程序的异常处理
    - 异常处理的基本使用
    ```python
    try:
        <语句块1>
    except:
        <语句块2>
    ```

    ```python
    try:
        <语句块1>
    except <异常类型> :
        <语句块2>
    ```
    ```python
    try:
        num = eval(input("请输入一个整数:"))
        print (num**2)
    except NameError:
        print("输入不是整数" )
    #标注异常类型后，仅响应该异常
    #异常类型名字等同于变量
    ```
    - 异常处理的高级使用
    ```python
    try:
        <语句块1>
    except:
        <语句块2>
    else:
        <语句块3>
    finally:
        <语句块4>

    >>>finally对应语句块4一定执行
    >>>else对应语句块3在不发生异常时执行
    ```

###实例5: 身体质量指数BMI
- 输入:给定体重和身高值
- 输出: BMI指标分类信息(国际和国内)

```python
#Ca1BMIv3. py
height, weight = eval(input("请输入身高(米)和体重\(公斤) [逗号隔开]: "))
bmi = weight / pow(height, 2)
print("BMI数值为: {:.2f}" .format(bmi))
who, nat = "",""
if bmi < 18.5:
    who, nat = "偏瘦", "偏瘦"
elif 18.5 <= bmi < 24:
    who, nat = "正常","正常"
elif 24 <= bmi < 25:
    who, nat = "正常","偏胖"
elif 25 <= bmi < 28:
    who, nat = "偏胖","偏胖"
elif 28 <= bmi< 30:
    who, nat = "偏胖","肥胖"
```

###程序的循环结构
1. 遍历循环
    遍历某个结构形成的循环运行方式
    ```python
    for <循环变量> in <遍历结构>
        <语句块>
    ```
    从遍历结构中逐一提取元素，放在循环变量中
    由保留字for和in组成，完整遍历所有元素后结束
    每次循环，所获得元素放入循环变量，并执行一次语句块

   - 计数循环(N次)
   ```python
   for i in range(N):
       <语句块>
   ```
   -遍历由`range()`函数产生的数字序列，产生循环

   - 计数循环(range()函数高级用法)
    ```python
    for i in range(M,N,K):
    #range(M,N,K) 即从M开始到N之前为止，步长为K。
       <语句块>
    ```
   -遍历由range()函数产生的数字序列，产生循环

    ```python
    >>> for i in range(1,6,2):
            print ( "Hello:",i )
    >>>
    Hello: 1
    Hello: 3
    Hello: 5
    ```
    - 字符串遍历循环
    ```python
    for c in s:
        <语句块>
    ```
    s是字符串，遍历字符串每个字符，产生循环

    ```python
    >>> for c in "Python123" :
        print(c, end="," )
    >>>
    P,y,t,h,o,n,1,2,3,
    ```
    - 列表遍历循环
    ```python
    for item in ls
        <语句块>
    ```
    -ls是一个列表，遍历其每个元素，产生循环
    ```python
    >>> for item in [123, "PY", 456]
            print(item, end=",")
    >>>
    123,PY,456,
    ```
    - 文件遍历循环
    ```python
    for line in fi
        <语句块>
    ```
    -fi是一个文件标识符，遍历其每行，产生循环

    例子：
    假设存在一个文本文件，其内容为：
    优美胜于丑陋
    明了胜于隐晦
    简洁胜于复杂
    ```python
    >>>for line in fi:
            print(line)
    ```

2. 无限循环
由条件控制的循环运行方式
```python
while <条件>
    <语句块>
```
```python
a=3
while a > 0 :
    a =a-1
    print(a)
```

3. 循环控制保留字
    break 和continue
    - break跳出并结束**当前整个循环**，执行循环后的语句
    - continue**结束当次循环**，继续执行后续次数循环
    - break和continue可以与for和while循环搭配使用

    break和continue的例子：
    ```python
    for C in "PYTHON":
        if C =="T" :
            continue
        print(C, end="")

    for C in "PYTHON":
        if C =="T" :
            break
        print(C, end="")
    ```
   - 那么问题来了?在双层循环的代码中，控制字如何起作用？
    用实例来展示：
    
    ```python
    #原式程序
    s ="PYTHON"
    while s != "":
        for c in s :
            print(c, end="")
        s = s[:-1]
    >>>
    PYTHONPYTHOPYTHPYTPYP

    #一个break保留字仅跳出内层循环，外层的循环依然有效
    s ="PYTHON"
    while s != "":
        for c in s :
            if c =="T":
                break
            print(c, end="")
        s = s[:-1]
    >>>PYPYPYPYPYP
    #如何理解？break仅能跳出当前最内层循环
    ```

4. 循环的高级用法
    循环与else
    - 当循环没有被break语句退出时，执行else语句块
    - else语句块作为"正常"完成循环的奖励
    - 这里else的用法与异常处理中else用法相似

    ```python
    for c in "PYTHON":
        if c =="T" :
            continue
        print(c, end="")
    else:
        print("正常退出")
    >>>
    PYTHON正常退出

    for c in "PYTHON":
        if c=="T":
            break
        print(c, end="")
    else:
        print("正常退出")
    >>>
    PY
    ```


###模块3: random库的使用
random库是使用随机数的Python标准库
-伪随机数:采用梅森旋转算法生成的(伪)随机序列中元素
-random库主要用于生成随机数
-使用random库: `import random`

random库包括两类函数，常用共8个
基本随机数函数: seed(), random()
扩展随机数函数: randint(), getrandbits(), uniform(),randrange(), choice(), shuffle()

- 基本随机数函数
![](2022-04-29-22-42-22.png)
种子相同，产生的随机数也是相同的：
![](2022-04-29-22-44-09.png)
- 扩展随机数函数
![](2022-04-29-22-46-01.png)
![](2022-04-29-22-46-44.png)
![](2022-04-29-22-47-26.png)

需要掌握的能力
-能够利用随机数种子产生"确定"伪随机数
-能够产生随机整数
-能够对序列类型进行随机操作

###实例6: 圆周率的计算

- 圆周率的近似计算公式
    ![](2022-04-29-22-51-29.png)
    ```python
    #CalPiV1.py
    pi =0
    N = 100
    for k in range(N) :
        pi += 1/pow(16,k)*( \
        4/(8*k+1) - 2/(8*k+4) - \
        1/(8*k+5) - 1/(8*k+6))
    print("圆周率值是: {}".format(pi))
    ```
- 蒙特卡罗方法
```python
#Ca1PiV2.py 
from random import random
from time import perf_counter
DARTS = 1000*1000
hits = 0.0
start = perf_counter( )
for i in range(1, DARTS+1):
    x,y = random(), random() 
    dist = pow(x**2+y**2,0.5)
    if dist <= 1.0:
        hits = hits + 1
pi = 4 * (hits/DARTS)
print("圆周率值是: {}" .format(pi))
print("运行时间是: {:.5f}s". format(perf_counter()-start))
```

